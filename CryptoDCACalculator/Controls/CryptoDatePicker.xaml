<?xml version="1.0" encoding="utf-8" ?>

<VerticalStackLayout x:Class="CryptoDCACalculator.Controls.CryptoDatePicker"
                     xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
                     xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
                     xmlns:extendedEntry="clr-namespace:CryptoDCACalculator.Controls.ExtendedEntry">
    <Label FontAttributes="Bold"
           FontFamily="{StaticResource MontserratRegularFontFamily}"
           FontSize="14"
           HorizontalTextAlignment="Start"
           Text="Select Date"
           TextColor="{StaticResource Gray300}">
        <Label.Triggers>
            <DataTrigger Binding="{Binding Source={x:Reference InnerDatePicker}, Path=IsFocused}"
                         TargetType="Label"
                         Value="True">
                <Setter Property="TextColor" Value="{StaticResource Gray600}" />
            </DataTrigger>
        </Label.Triggers>
    </Label>

    <Grid>
        <extendedEntry:ExtendedEntry x:Name="InnerEntry"
                                     HasBorder="False"
                                     HeightRequest="30"
                                     IsReadOnly="True" />

        <Button Margin="0"
                Padding="0"
                BackgroundColor="White"
                BorderWidth="0"
                Clicked="OnDatePickerTapped"
                FontFamily="{StaticResource MontserratSemiboldFontFamily}"
                HorizontalOptions="End"
                Text="..."
                TextColor="{StaticResource Gray500}"
                WidthRequest="30" />
    </Grid>

    <DatePicker x:Name="InnerDatePicker"
                HeightRequest="30"
                IsVisible="False" />

    <Border BackgroundColor="{StaticResource Gray500}"
            StrokeThickness="1"
            VerticalOptions="Center">
        <Border.StrokeShape>
            <Rectangle />
        </Border.StrokeShape>
        <Border.Triggers>
            <DataTrigger Binding="{Binding Source={x:Reference InnerDatePicker}, Path=IsFocused}"
                         TargetType="Border"
                         Value="True">
                <Setter Property="Stroke" Value="{StaticResource Primary}" />
            </DataTrigger>
        </Border.Triggers>
    </Border>

    <VerticalStackLayout.GestureRecognizers>
        <TapGestureRecognizer Tapped="OnDatePickerTapped" />
    </VerticalStackLayout.GestureRecognizers>
</VerticalStackLayout>
